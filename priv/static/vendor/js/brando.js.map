{"version":3,"sources":["node_modules/phoenix/priv/static/phoenix.js","brando.js","autoslug.js","filter_table.js","flash.js","images.js","instagram.js","mobile.js","pages.js","sequence.js","stats.js","tags.js","toolbar.js","utils.js","vex.js","ws.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","file":"priv/static/vendor/js/brando.js","sourcesContent":["require.register('phoenix', function(exports,req,module){\n    var require = __makeRequire((function(n) { return req(n.replace('./', 'phoenix//priv/static/')); }), {});\n    (function(exports,require,module) {\n      (function(exports){\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Phoenix Channels JavaScript client\n//\n// ## Socket Connection\n//\n// A single connection is established to the server and\n// channels are mulitplexed over the connection.\n// Connect to the server using the `Socket` class:\n//\n//     let socket = new Socket(\"/ws\", {params: {userToken: \"123\"}})\n//     socket.connect()\n//\n// The `Socket` constructor takes the mount point of the socket,\n// the authentication params, as well as options that can be found in\n// the Socket docs, such as configuring the `LongPoll` transport, and\n// heartbeat.\n//\n// ## Channels\n//\n// Channels are isolated, concurrent processes on the server that\n// subscribe to topics and broker events between the client and server.\n// To join a channel, you must provide the topic, and channel params for\n// authorization. Here's an example chat room example where `\"new_msg\"`\n// events are listened for, messages are pushed to the server, and\n// the channel is joined with ok/error/timeout matches:\n//\n//     let channel = socket.channel(\"rooms:123\", {token: roomToken})\n//     channel.on(\"new_msg\", msg => console.log(\"Got message\", msg) )\n//     $input.onEnter( e => {\n//       channel.push(\"new_msg\", {body: e.target.val}, 10000)\n//        .receive(\"ok\", (msg) => console.log(\"created message\", msg) )\n//        .receive(\"error\", (reasons) => console.log(\"create failed\", reasons) )\n//        .receive(\"timeout\", () => console.log(\"Networking issue...\") )\n//     })\n//     channel.join()\n//       .receive(\"ok\", ({messages}) => console.log(\"catching up\", messages) )\n//       .receive(\"error\", ({reason}) => console.log(\"failed join\", reason) )\n//       .receive(\"timeout\", () => console.log(\"Networking issue. Still waiting...\") )\n//\n//\n// ## Joining\n//\n// Creating a channel with `socket.channel(topic, params)`, binds the params to\n// `channel.params`, which are sent up on `channel.join()`.\n// Subsequent rejoins will send up the modified params for\n// updating authorization params, or passing up last_message_id information.\n// Successful joins receive an \"ok\" status, while unsuccessful joins\n// receive \"error\".\n//\n//\n// ## Pushing Messages\n//\n// From the previous example, we can see that pushing messages to the server\n// can be done with `channel.push(eventName, payload)` and we can optionally\n// receive responses from the push. Additionally, we can use\n// `receive(\"timeout\", callback)` to abort waiting for our other `receive` hooks\n//  and take action after some period of waiting. The default timeout is 5000ms.\n//\n//\n// ## Socket Hooks\n//\n// Lifecycle events of the multiplexed connection can be hooked into via\n// `socket.onError()` and `socket.onClose()` events, ie:\n//\n//     socket.onError( () => console.log(\"there was an error with the connection!\") )\n//     socket.onClose( () => console.log(\"the connection dropped\") )\n//\n//\n// ## Channel Hooks\n//\n// For each joined channel, you can bind to `onError` and `onClose` events\n// to monitor the channel lifecycle, ie:\n//\n//     channel.onError( () => console.log(\"there was an error!\") )\n//     channel.onClose( () => console.log(\"the channel has gone away gracefully\") )\n//\n// ### onError hooks\n//\n// `onError` hooks are invoked if the socket connection drops, or the channel\n// crashes on the server. In either case, a channel rejoin is attemtped\n// automatically in an exponential backoff manner.\n//\n// ### onClose hooks\n//\n// `onClose` hooks are invoked only in two cases. 1) the channel explicitly\n// closed on the server, or 2). The client explicitly closed, by calling\n// `channel.leave()`\n//\n\nvar VSN = \"1.0.0\";\nvar SOCKET_STATES = { connecting: 0, open: 1, closing: 2, closed: 3 };\nvar DEFAULT_TIMEOUT = 10000;\nvar CHANNEL_STATES = {\n  closed: \"closed\",\n  errored: \"errored\",\n  joined: \"joined\",\n  joining: \"joining\"\n};\nvar CHANNEL_EVENTS = {\n  close: \"phx_close\",\n  error: \"phx_error\",\n  join: \"phx_join\",\n  reply: \"phx_reply\",\n  leave: \"phx_leave\"\n};\nvar TRANSPORTS = {\n  longpoll: \"longpoll\",\n  websocket: \"websocket\"\n};\n\nvar Push = function () {\n\n  // Initializes the Push\n  //\n  // channel - The Channel\n  // event - The event, for example `\"phx_join\"`\n  // payload - The payload, for example `{user_id: 123}`\n  // timeout - The push timeout in milliseconds\n  //\n\n  function Push(channel, event, payload, timeout) {\n    _classCallCheck(this, Push);\n\n    this.channel = channel;\n    this.event = event;\n    this.payload = payload || {};\n    this.receivedResp = null;\n    this.timeout = timeout;\n    this.timeoutTimer = null;\n    this.recHooks = [];\n    this.sent = false;\n  }\n\n  _createClass(Push, [{\n    key: \"resend\",\n    value: function resend(timeout) {\n      this.timeout = timeout;\n      this.cancelRefEvent();\n      this.ref = null;\n      this.refEvent = null;\n      this.receivedResp = null;\n      this.sent = false;\n      this.send();\n    }\n  }, {\n    key: \"send\",\n    value: function send() {\n      if (this.hasReceived(\"timeout\")) {\n        return;\n      }\n      this.startTimeout();\n      this.sent = true;\n      this.channel.socket.push({\n        topic: this.channel.topic,\n        event: this.event,\n        payload: this.payload,\n        ref: this.ref\n      });\n    }\n  }, {\n    key: \"receive\",\n    value: function receive(status, callback) {\n      if (this.hasReceived(status)) {\n        callback(this.receivedResp.response);\n      }\n\n      this.recHooks.push({ status: status, callback: callback });\n      return this;\n    }\n\n    // private\n\n  }, {\n    key: \"matchReceive\",\n    value: function matchReceive(_ref) {\n      var status = _ref.status;\n      var response = _ref.response;\n      var ref = _ref.ref;\n\n      this.recHooks.filter(function (h) {\n        return h.status === status;\n      }).forEach(function (h) {\n        return h.callback(response);\n      });\n    }\n  }, {\n    key: \"cancelRefEvent\",\n    value: function cancelRefEvent() {\n      if (!this.refEvent) {\n        return;\n      }\n      this.channel.off(this.refEvent);\n    }\n  }, {\n    key: \"cancelTimeout\",\n    value: function cancelTimeout() {\n      clearTimeout(this.timeoutTimer);\n      this.timeoutTimer = null;\n    }\n  }, {\n    key: \"startTimeout\",\n    value: function startTimeout() {\n      var _this = this;\n\n      if (this.timeoutTimer) {\n        return;\n      }\n      this.ref = this.channel.socket.makeRef();\n      this.refEvent = this.channel.replyEventName(this.ref);\n\n      this.channel.on(this.refEvent, function (payload) {\n        _this.cancelRefEvent();\n        _this.cancelTimeout();\n        _this.receivedResp = payload;\n        _this.matchReceive(payload);\n      });\n\n      this.timeoutTimer = setTimeout(function () {\n        _this.trigger(\"timeout\", {});\n      }, this.timeout);\n    }\n  }, {\n    key: \"hasReceived\",\n    value: function hasReceived(status) {\n      return this.receivedResp && this.receivedResp.status === status;\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger(status, response) {\n      this.channel.trigger(this.refEvent, { status: status, response: response });\n    }\n  }]);\n\n  return Push;\n}();\n\nvar Channel = exports.Channel = function () {\n  function Channel(topic, params, socket) {\n    var _this2 = this;\n\n    _classCallCheck(this, Channel);\n\n    this.state = CHANNEL_STATES.closed;\n    this.topic = topic;\n    this.params = params || {};\n    this.socket = socket;\n    this.bindings = [];\n    this.timeout = this.socket.timeout;\n    this.joinedOnce = false;\n    this.joinPush = new Push(this, CHANNEL_EVENTS.join, this.params, this.timeout);\n    this.pushBuffer = [];\n    this.rejoinTimer = new Timer(function () {\n      return _this2.rejoinUntilConnected();\n    }, this.socket.reconnectAfterMs);\n    this.joinPush.receive(\"ok\", function () {\n      _this2.state = CHANNEL_STATES.joined;\n      _this2.rejoinTimer.reset();\n      _this2.pushBuffer.forEach(function (pushEvent) {\n        return pushEvent.send();\n      });\n      _this2.pushBuffer = [];\n    });\n    this.onClose(function () {\n      _this2.socket.log(\"channel\", \"close \" + _this2.topic);\n      _this2.state = CHANNEL_STATES.closed;\n      _this2.socket.remove(_this2);\n    });\n    this.onError(function (reason) {\n      _this2.socket.log(\"channel\", \"error \" + _this2.topic, reason);\n      _this2.state = CHANNEL_STATES.errored;\n      _this2.rejoinTimer.scheduleTimeout();\n    });\n    this.joinPush.receive(\"timeout\", function () {\n      if (_this2.state !== CHANNEL_STATES.joining) {\n        return;\n      }\n\n      _this2.socket.log(\"channel\", \"timeout \" + _this2.topic, _this2.joinPush.timeout);\n      _this2.state = CHANNEL_STATES.errored;\n      _this2.rejoinTimer.scheduleTimeout();\n    });\n    this.on(CHANNEL_EVENTS.reply, function (payload, ref) {\n      _this2.trigger(_this2.replyEventName(ref), payload);\n    });\n  }\n\n  _createClass(Channel, [{\n    key: \"rejoinUntilConnected\",\n    value: function rejoinUntilConnected() {\n      this.rejoinTimer.scheduleTimeout();\n      if (this.socket.isConnected()) {\n        this.rejoin();\n      }\n    }\n  }, {\n    key: \"join\",\n    value: function join() {\n      var timeout = arguments.length <= 0 || arguments[0] === undefined ? this.timeout : arguments[0];\n\n      if (this.joinedOnce) {\n        throw \"tried to join multiple times. 'join' can only be called a single time per channel instance\";\n      } else {\n        this.joinedOnce = true;\n      }\n      this.rejoin(timeout);\n      return this.joinPush;\n    }\n  }, {\n    key: \"onClose\",\n    value: function onClose(callback) {\n      this.on(CHANNEL_EVENTS.close, callback);\n    }\n  }, {\n    key: \"onError\",\n    value: function onError(callback) {\n      this.on(CHANNEL_EVENTS.error, function (reason) {\n        return callback(reason);\n      });\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      this.bindings.push({ event: event, callback: callback });\n    }\n  }, {\n    key: \"off\",\n    value: function off(event) {\n      this.bindings = this.bindings.filter(function (bind) {\n        return bind.event !== event;\n      });\n    }\n  }, {\n    key: \"canPush\",\n    value: function canPush() {\n      return this.socket.isConnected() && this.state === CHANNEL_STATES.joined;\n    }\n  }, {\n    key: \"push\",\n    value: function push(event, payload) {\n      var timeout = arguments.length <= 2 || arguments[2] === undefined ? this.timeout : arguments[2];\n\n      if (!this.joinedOnce) {\n        throw \"tried to push '\" + event + \"' to '\" + this.topic + \"' before joining. Use channel.join() before pushing events\";\n      }\n      var pushEvent = new Push(this, event, payload, timeout);\n      if (this.canPush()) {\n        pushEvent.send();\n      } else {\n        pushEvent.startTimeout();\n        this.pushBuffer.push(pushEvent);\n      }\n\n      return pushEvent;\n    }\n\n    // Leaves the channel\n    //\n    // Unsubscribes from server events, and\n    // instructs channel to terminate on server\n    //\n    // Triggers onClose() hooks\n    //\n    // To receive leave acknowledgements, use the a `receive`\n    // hook to bind to the server ack, ie:\n    //\n    //     channel.leave().receive(\"ok\", () => alert(\"left!\") )\n    //\n\n  }, {\n    key: \"leave\",\n    value: function leave() {\n      var _this3 = this;\n\n      var timeout = arguments.length <= 0 || arguments[0] === undefined ? this.timeout : arguments[0];\n\n      var onClose = function onClose() {\n        _this3.socket.log(\"channel\", \"leave \" + _this3.topic);\n        _this3.trigger(CHANNEL_EVENTS.close, \"leave\");\n      };\n      var leavePush = new Push(this, CHANNEL_EVENTS.leave, {}, timeout);\n      leavePush.receive(\"ok\", function () {\n        return onClose();\n      }).receive(\"timeout\", function () {\n        return onClose();\n      });\n      leavePush.send();\n      if (!this.canPush()) {\n        leavePush.trigger(\"ok\", {});\n      }\n\n      return leavePush;\n    }\n\n    // Overridable message hook\n    //\n    // Receives all events for specialized message handling\n\n  }, {\n    key: \"onMessage\",\n    value: function onMessage(event, payload, ref) {}\n\n    // private\n\n  }, {\n    key: \"isMember\",\n    value: function isMember(topic) {\n      return this.topic === topic;\n    }\n  }, {\n    key: \"sendJoin\",\n    value: function sendJoin(timeout) {\n      this.state = CHANNEL_STATES.joining;\n      this.joinPush.resend(timeout);\n    }\n  }, {\n    key: \"rejoin\",\n    value: function rejoin() {\n      var timeout = arguments.length <= 0 || arguments[0] === undefined ? this.timeout : arguments[0];\n      this.sendJoin(timeout);\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger(triggerEvent, payload, ref) {\n      this.onMessage(triggerEvent, payload, ref);\n      this.bindings.filter(function (bind) {\n        return bind.event === triggerEvent;\n      }).map(function (bind) {\n        return bind.callback(payload, ref);\n      });\n    }\n  }, {\n    key: \"replyEventName\",\n    value: function replyEventName(ref) {\n      return \"chan_reply_\" + ref;\n    }\n  }]);\n\n  return Channel;\n}();\n\nvar Socket = exports.Socket = function () {\n\n  // Initializes the Socket\n  //\n  // endPoint - The string WebSocket endpoint, ie, \"ws://example.com/ws\",\n  //                                               \"wss://example.com\"\n  //                                               \"/ws\" (inherited host & protocol)\n  // opts - Optional configuration\n  //   transport - The Websocket Transport, for example WebSocket or Phoenix.LongPoll.\n  //               Defaults to WebSocket with automatic LongPoll fallback.\n  //   timeout - The default timeout in milliseconds to trigger push timeouts.\n  //             Defaults `DEFAULT_TIMEOUT`\n  //   heartbeatIntervalMs - The millisec interval to send a heartbeat message\n  //   reconnectAfterMs - The optional function that returns the millsec\n  //                      reconnect interval. Defaults to stepped backoff of:\n  //\n  //     function(tries){\n  //       return [1000, 5000, 10000][tries - 1] || 10000\n  //     }\n  //\n  //   logger - The optional function for specialized logging, ie:\n  //     `logger: (kind, msg, data) => { console.log(`${kind}: ${msg}`, data) }\n  //\n  //   longpollerTimeout - The maximum timeout of a long poll AJAX request.\n  //                        Defaults to 20s (double the server long poll timer).\n  //\n  //   params - The optional params to pass when connecting\n  //\n  // For IE8 support use an ES5-shim (https://github.com/es-shims/es5-shim)\n  //\n\n  function Socket(endPoint) {\n    var _this4 = this;\n\n    var opts = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    _classCallCheck(this, Socket);\n\n    this.stateChangeCallbacks = { open: [], close: [], error: [], message: [] };\n    this.channels = [];\n    this.sendBuffer = [];\n    this.ref = 0;\n    this.timeout = opts.timeout || DEFAULT_TIMEOUT;\n    this.transport = opts.transport || window.WebSocket || LongPoll;\n    this.heartbeatIntervalMs = opts.heartbeatIntervalMs || 30000;\n    this.reconnectAfterMs = opts.reconnectAfterMs || function (tries) {\n      return [1000, 2000, 5000, 10000][tries - 1] || 10000;\n    };\n    this.logger = opts.logger || function () {}; // noop\n    this.longpollerTimeout = opts.longpollerTimeout || 20000;\n    this.params = opts.params || {};\n    this.endPoint = endPoint + \"/\" + TRANSPORTS.websocket;\n    this.reconnectTimer = new Timer(function () {\n      _this4.disconnect(function () {\n        return _this4.connect();\n      });\n    }, this.reconnectAfterMs);\n  }\n\n  _createClass(Socket, [{\n    key: \"protocol\",\n    value: function protocol() {\n      return location.protocol.match(/^https/) ? \"wss\" : \"ws\";\n    }\n  }, {\n    key: \"endPointURL\",\n    value: function endPointURL() {\n      var uri = Ajax.appendParams(Ajax.appendParams(this.endPoint, this.params), { vsn: VSN });\n      if (uri.charAt(0) !== \"/\") {\n        return uri;\n      }\n      if (uri.charAt(1) === \"/\") {\n        return this.protocol() + \":\" + uri;\n      }\n\n      return this.protocol() + \"://\" + location.host + uri;\n    }\n  }, {\n    key: \"disconnect\",\n    value: function disconnect(callback, code, reason) {\n      if (this.conn) {\n        this.conn.onclose = function () {}; // noop\n        if (code) {\n          this.conn.close(code, reason || \"\");\n        } else {\n          this.conn.close();\n        }\n        this.conn = null;\n      }\n      callback && callback();\n    }\n\n    // params - The params to send when connecting, for example `{user_id: userToken}`\n\n  }, {\n    key: \"connect\",\n    value: function connect(params) {\n      var _this5 = this;\n\n      if (params) {\n        console && console.log(\"passing params to connect is deprecated. Instead pass :params to the Socket constructor\");\n        this.params = params;\n      }\n      if (this.conn) {\n        return;\n      }\n\n      this.conn = new this.transport(this.endPointURL());\n      this.conn.timeout = this.longpollerTimeout;\n      this.conn.onopen = function () {\n        return _this5.onConnOpen();\n      };\n      this.conn.onerror = function (error) {\n        return _this5.onConnError(error);\n      };\n      this.conn.onmessage = function (event) {\n        return _this5.onConnMessage(event);\n      };\n      this.conn.onclose = function (event) {\n        return _this5.onConnClose(event);\n      };\n    }\n\n    // Logs the message. Override `this.logger` for specialized logging. noops by default\n\n  }, {\n    key: \"log\",\n    value: function log(kind, msg, data) {\n      this.logger(kind, msg, data);\n    }\n\n    // Registers callbacks for connection state change events\n    //\n    // Examples\n    //\n    //    socket.onError(function(error){ alert(\"An error occurred\") })\n    //\n\n  }, {\n    key: \"onOpen\",\n    value: function onOpen(callback) {\n      this.stateChangeCallbacks.open.push(callback);\n    }\n  }, {\n    key: \"onClose\",\n    value: function onClose(callback) {\n      this.stateChangeCallbacks.close.push(callback);\n    }\n  }, {\n    key: \"onError\",\n    value: function onError(callback) {\n      this.stateChangeCallbacks.error.push(callback);\n    }\n  }, {\n    key: \"onMessage\",\n    value: function onMessage(callback) {\n      this.stateChangeCallbacks.message.push(callback);\n    }\n  }, {\n    key: \"onConnOpen\",\n    value: function onConnOpen() {\n      var _this6 = this;\n\n      this.log(\"transport\", \"connected to \" + this.endPointURL(), this.transport.prototype);\n      this.flushSendBuffer();\n      this.reconnectTimer.reset();\n      if (!this.conn.skipHeartbeat) {\n        clearInterval(this.heartbeatTimer);\n        this.heartbeatTimer = setInterval(function () {\n          return _this6.sendHeartbeat();\n        }, this.heartbeatIntervalMs);\n      }\n      this.stateChangeCallbacks.open.forEach(function (callback) {\n        return callback();\n      });\n    }\n  }, {\n    key: \"onConnClose\",\n    value: function onConnClose(event) {\n      this.log(\"transport\", \"close\", event);\n      this.triggerChanError();\n      clearInterval(this.heartbeatTimer);\n      this.reconnectTimer.scheduleTimeout();\n      this.stateChangeCallbacks.close.forEach(function (callback) {\n        return callback(event);\n      });\n    }\n  }, {\n    key: \"onConnError\",\n    value: function onConnError(error) {\n      this.log(\"transport\", error);\n      this.triggerChanError();\n      this.stateChangeCallbacks.error.forEach(function (callback) {\n        return callback(error);\n      });\n    }\n  }, {\n    key: \"triggerChanError\",\n    value: function triggerChanError() {\n      this.channels.forEach(function (channel) {\n        return channel.trigger(CHANNEL_EVENTS.error);\n      });\n    }\n  }, {\n    key: \"connectionState\",\n    value: function connectionState() {\n      switch (this.conn && this.conn.readyState) {\n        case SOCKET_STATES.connecting:\n          return \"connecting\";\n        case SOCKET_STATES.open:\n          return \"open\";\n        case SOCKET_STATES.closing:\n          return \"closing\";\n        default:\n          return \"closed\";\n      }\n    }\n  }, {\n    key: \"isConnected\",\n    value: function isConnected() {\n      return this.connectionState() === \"open\";\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(channel) {\n      this.channels = this.channels.filter(function (c) {\n        return !c.isMember(channel.topic);\n      });\n    }\n  }, {\n    key: \"channel\",\n    value: function channel(topic) {\n      var chanParams = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      var chan = new Channel(topic, chanParams, this);\n      this.channels.push(chan);\n      return chan;\n    }\n  }, {\n    key: \"push\",\n    value: function push(data) {\n      var _this7 = this;\n\n      var topic = data.topic;\n      var event = data.event;\n      var payload = data.payload;\n      var ref = data.ref;\n\n      var callback = function callback() {\n        return _this7.conn.send(JSON.stringify(data));\n      };\n      this.log(\"push\", topic + \" \" + event + \" (\" + ref + \")\", payload);\n      if (this.isConnected()) {\n        callback();\n      } else {\n        this.sendBuffer.push(callback);\n      }\n    }\n\n    // Return the next message ref, accounting for overflows\n\n  }, {\n    key: \"makeRef\",\n    value: function makeRef() {\n      var newRef = this.ref + 1;\n      if (newRef === this.ref) {\n        this.ref = 0;\n      } else {\n        this.ref = newRef;\n      }\n\n      return this.ref.toString();\n    }\n  }, {\n    key: \"sendHeartbeat\",\n    value: function sendHeartbeat() {\n      if (!this.isConnected()) {\n        return;\n      }\n      this.push({ topic: \"phoenix\", event: \"heartbeat\", payload: {}, ref: this.makeRef() });\n    }\n  }, {\n    key: \"flushSendBuffer\",\n    value: function flushSendBuffer() {\n      if (this.isConnected() && this.sendBuffer.length > 0) {\n        this.sendBuffer.forEach(function (callback) {\n          return callback();\n        });\n        this.sendBuffer = [];\n      }\n    }\n  }, {\n    key: \"onConnMessage\",\n    value: function onConnMessage(rawMessage) {\n      var msg = JSON.parse(rawMessage.data);\n      var topic = msg.topic;\n      var event = msg.event;\n      var payload = msg.payload;\n      var ref = msg.ref;\n\n      this.log(\"receive\", (payload.status || \"\") + \" \" + topic + \" \" + event + \" \" + (ref && \"(\" + ref + \")\" || \"\"), payload);\n      this.channels.filter(function (channel) {\n        return channel.isMember(topic);\n      }).forEach(function (channel) {\n        return channel.trigger(event, payload, ref);\n      });\n      this.stateChangeCallbacks.message.forEach(function (callback) {\n        return callback(msg);\n      });\n    }\n  }]);\n\n  return Socket;\n}();\n\nvar LongPoll = exports.LongPoll = function () {\n  function LongPoll(endPoint) {\n    _classCallCheck(this, LongPoll);\n\n    this.endPoint = null;\n    this.token = null;\n    this.skipHeartbeat = true;\n    this.onopen = function () {}; // noop\n    this.onerror = function () {}; // noop\n    this.onmessage = function () {}; // noop\n    this.onclose = function () {}; // noop\n    this.pollEndpoint = this.normalizeEndpoint(endPoint);\n    this.readyState = SOCKET_STATES.connecting;\n\n    this.poll();\n  }\n\n  _createClass(LongPoll, [{\n    key: \"normalizeEndpoint\",\n    value: function normalizeEndpoint(endPoint) {\n      return endPoint.replace(\"ws://\", \"http://\").replace(\"wss://\", \"https://\").replace(new RegExp(\"(.*)\\/\" + TRANSPORTS.websocket), \"$1/\" + TRANSPORTS.longpoll);\n    }\n  }, {\n    key: \"endpointURL\",\n    value: function endpointURL() {\n      return Ajax.appendParams(this.pollEndpoint, { token: this.token });\n    }\n  }, {\n    key: \"closeAndRetry\",\n    value: function closeAndRetry() {\n      this.close();\n      this.readyState = SOCKET_STATES.connecting;\n    }\n  }, {\n    key: \"ontimeout\",\n    value: function ontimeout() {\n      this.onerror(\"timeout\");\n      this.closeAndRetry();\n    }\n  }, {\n    key: \"poll\",\n    value: function poll() {\n      var _this8 = this;\n\n      if (!(this.readyState === SOCKET_STATES.open || this.readyState === SOCKET_STATES.connecting)) {\n        return;\n      }\n\n      Ajax.request(\"GET\", this.endpointURL(), \"application/json\", null, this.timeout, this.ontimeout.bind(this), function (resp) {\n        if (resp) {\n          var status = resp.status;\n          var token = resp.token;\n          var messages = resp.messages;\n\n          _this8.token = token;\n        } else {\n          var status = 0;\n        }\n\n        switch (status) {\n          case 200:\n            messages.forEach(function (msg) {\n              return _this8.onmessage({ data: JSON.stringify(msg) });\n            });\n            _this8.poll();\n            break;\n          case 204:\n            _this8.poll();\n            break;\n          case 410:\n            _this8.readyState = SOCKET_STATES.open;\n            _this8.onopen();\n            _this8.poll();\n            break;\n          case 0:\n          case 500:\n            _this8.onerror();\n            _this8.closeAndRetry();\n            break;\n          default:\n            throw \"unhandled poll status \" + status;\n        }\n      });\n    }\n  }, {\n    key: \"send\",\n    value: function send(body) {\n      var _this9 = this;\n\n      Ajax.request(\"POST\", this.endpointURL(), \"application/json\", body, this.timeout, this.onerror.bind(this, \"timeout\"), function (resp) {\n        if (!resp || resp.status !== 200) {\n          _this9.onerror(status);\n          _this9.closeAndRetry();\n        }\n      });\n    }\n  }, {\n    key: \"close\",\n    value: function close(code, reason) {\n      this.readyState = SOCKET_STATES.closed;\n      this.onclose();\n    }\n  }]);\n\n  return LongPoll;\n}();\n\nvar Ajax = exports.Ajax = function () {\n  function Ajax() {\n    _classCallCheck(this, Ajax);\n  }\n\n  _createClass(Ajax, null, [{\n    key: \"request\",\n    value: function request(method, endPoint, accept, body, timeout, ontimeout, callback) {\n      if (window.XDomainRequest) {\n        var req = new XDomainRequest(); // IE8, IE9\n        this.xdomainRequest(req, method, endPoint, body, timeout, ontimeout, callback);\n      } else {\n        var req = window.XMLHttpRequest ? new XMLHttpRequest() : // IE7+, Firefox, Chrome, Opera, Safari\n        new ActiveXObject(\"Microsoft.XMLHTTP\"); // IE6, IE5\n        this.xhrRequest(req, method, endPoint, accept, body, timeout, ontimeout, callback);\n      }\n    }\n  }, {\n    key: \"xdomainRequest\",\n    value: function xdomainRequest(req, method, endPoint, body, timeout, ontimeout, callback) {\n      var _this10 = this;\n\n      req.timeout = timeout;\n      req.open(method, endPoint);\n      req.onload = function () {\n        var response = _this10.parseJSON(req.responseText);\n        callback && callback(response);\n      };\n      if (ontimeout) {\n        req.ontimeout = ontimeout;\n      }\n\n      // Work around bug in IE9 that requires an attached onprogress handler\n      req.onprogress = function () {};\n\n      req.send(body);\n    }\n  }, {\n    key: \"xhrRequest\",\n    value: function xhrRequest(req, method, endPoint, accept, body, timeout, ontimeout, callback) {\n      var _this11 = this;\n\n      req.timeout = timeout;\n      req.open(method, endPoint, true);\n      req.setRequestHeader(\"Content-Type\", accept);\n      req.onerror = function () {\n        callback && callback(null);\n      };\n      req.onreadystatechange = function () {\n        if (req.readyState === _this11.states.complete && callback) {\n          var response = _this11.parseJSON(req.responseText);\n          callback(response);\n        }\n      };\n      if (ontimeout) {\n        req.ontimeout = ontimeout;\n      }\n\n      req.send(body);\n    }\n  }, {\n    key: \"parseJSON\",\n    value: function parseJSON(resp) {\n      return resp && resp !== \"\" ? JSON.parse(resp) : null;\n    }\n  }, {\n    key: \"serialize\",\n    value: function serialize(obj, parentKey) {\n      var queryStr = [];\n      for (var key in obj) {\n        if (!obj.hasOwnProperty(key)) {\n          continue;\n        }\n        var paramKey = parentKey ? parentKey + \"[\" + key + \"]\" : key;\n        var paramVal = obj[key];\n        if ((typeof paramVal === \"undefined\" ? \"undefined\" : _typeof(paramVal)) === \"object\") {\n          queryStr.push(this.serialize(paramVal, paramKey));\n        } else {\n          queryStr.push(encodeURIComponent(paramKey) + \"=\" + encodeURIComponent(paramVal));\n        }\n      }\n      return queryStr.join(\"&\");\n    }\n  }, {\n    key: \"appendParams\",\n    value: function appendParams(url, params) {\n      if (Object.keys(params).length === 0) {\n        return url;\n      }\n\n      var prefix = url.match(/\\?/) ? \"&\" : \"?\";\n      return \"\" + url + prefix + this.serialize(params);\n    }\n  }]);\n\n  return Ajax;\n}();\n\nAjax.states = { complete: 4 };\n\n// Creates a timer that accepts a `timerCalc` function to perform\n// calculated timeout retries, such as exponential backoff.\n//\n// ## Examples\n//\n//    let reconnectTimer = new Timer(() => this.connect(), function(tries){\n//      return [1000, 5000, 10000][tries - 1] || 10000\n//    })\n//    reconnectTimer.scheduleTimeout() // fires after 1000\n//    reconnectTimer.scheduleTimeout() // fires after 5000\n//    reconnectTimer.reset()\n//    reconnectTimer.scheduleTimeout() // fires after 1000\n//\n\nvar Timer = function () {\n  function Timer(callback, timerCalc) {\n    _classCallCheck(this, Timer);\n\n    this.callback = callback;\n    this.timerCalc = timerCalc;\n    this.timer = null;\n    this.tries = 0;\n  }\n\n  _createClass(Timer, [{\n    key: \"reset\",\n    value: function reset() {\n      this.tries = 0;\n      clearTimeout(this.timer);\n    }\n\n    // Cancels any previous scheduleTimeout and schedules callback\n\n  }, {\n    key: \"scheduleTimeout\",\n    value: function scheduleTimeout() {\n      var _this12 = this;\n\n      clearTimeout(this.timer);\n\n      this.timer = setTimeout(function () {\n        _this12.tries = _this12.tries + 1;\n        _this12.callback();\n      }, this.timerCalc(this.tries + 1));\n    }\n  }]);\n\n  return Timer;\n}();\n\n\n})(typeof(exports) === \"undefined\" ? window.Phoenix = window.Phoenix || {} : exports);\n\n    })(exports,require,module);\n  });","\"use strict\";\n\nimport Autoslug from \"./components/autoslug\";\nimport Flash from \"./components/flash\";\nimport FilterTable from \"./components/filter_table\";\nimport Mobile from \"./components/mobile\";\nimport Utils from \"./components/utils\";\nimport Vex from \"./components/vex\";\nimport Images from \"./components/images\";\nimport Instagram from \"./components/instagram\";\nimport Pages from \"./components/pages\";\nimport Sequence from \"./components/sequence\";\nimport Stats from \"./components/stats\";\nimport Tags from \"./components/tags\";\nimport Toolbar from \"./components/toolbar\";\nimport WS from \"./components/ws\";\n\n\n$(() => {\n    /**\n     * Setup vendored modules.\n     */\n\n    Vex.setup();\n    Autoslug.setup();\n    FilterTable.setup();\n    Flash.setup();\n    Mobile.setup();\n    Sequence.setup();\n    Toolbar.setup();\n    Tags.setup();\n\n    /**\n     * Section-specific setup\n     */\n\n    switch ($('body').attr('data-script')) {\n        case \"images-index\":\n            Images.setup();\n            break;\n        case \"dashboard-system_info\":\n            Stats.setup();\n            break;\n        case \"instagram-index\":\n            Instagram.setup();\n            break;\n        case \"pages-index\":\n            Pages.setup();\n            break;\n    }\n\n    /**\n     * Global setup\n     */\n\n    WS.setup();\n});","\"use strict\";\n\nclass Autoslug {\n    static setup() {\n        // set up auto slug\n        $('[data-slug-from]').each((index, elem) => {\n            var slugFrom = $(elem).attr('data-slug-from');\n            $('[name=\"' + slugFrom + '\"]').slugIt({\n                output: $(elem),\n            });\n        });\n    }\n}\n\nexport default Autoslug;","\"use strict\";\n\nclass FilterTable {\n    static setup() {\n        // set up table filtering\n        $('[data-filter-table]').each((index, elem) => {\n            $(elem).searcher({inputSelector: \"#filter-input\"});\n        });\n    }\n}\n\nexport default FilterTable;","\"use strict\";\n\nclass Flash {\n    static setup() {\n        // set up dismissal of flash alerts\n        $('[data-dismiss]').each((index, elem) => {\n            $(elem).click(e => {\n                e.preventDefault();\n                $(elem).parent().hide();\n            });\n        });\n    }\n}\n\nexport default Flash;","\"use strict\";\nimport Utils from \"./utils\";\n\nvar imagePool = [];\nclass Images {\n    static setup() {\n        this.getHash();\n        this.deleteListener();\n        this.imageSelectionListener();\n        this.imagePropertiesListener();\n    }\n    static getHash() {\n        let hash = document.location.hash\n        if (hash) {\n            // show the tab\n            activate_tab(\"#tab-\" + hash.slice(1));\n        }\n    }\n    static imageSelectionListener() {\n        var that = this;\n        $('.image-selection-pool img').click(function(e) {\n          if ($(this).hasClass('selected')) {\n            // remove from selected pool\n            var pos;\n            for (var i = 0; i < imagePool.length; i++) {\n              if ( imagePool[i] == $(this).attr('data-id')) {\n                pos = i;\n                break;\n              }\n            }\n            imagePool.splice(pos, 1);\n          } else {\n            // add to selected pool\n            if (!imagePool) {\n              imagePool = new Array();\n            }\n            imagePool.push($(this).attr('data-id'));\n          }\n          $(this).toggleClass('selected');\n          that.checkButtonEnable();\n        });\n    }\n\n    static imagePropertiesListener() {\n        var that = this;\n\n        $(document).on({\n            mouseenter: function(){\n                $(this).find('.overlay').css('visibility', 'visible');\n            },\n            mouseleave: function(){\n                $(this).find('.overlay').css('visibility', 'hidden');\n            }\n        }, '.image-wrapper');\n\n        $(document).on('click', '.edit-properties', function(e) {\n            e.preventDefault();\n\n            var attrs;\n            var $content = $('<div>');\n            var $form;\n            var $img = $(this).parent().parent().find('img').clone();\n\n            vex.dialog.open({\n                message: '',\n                input: function() {\n                    attrs = that._buildAttrs($img.data());\n                    $content.append($img).append(attrs);\n                    return $content;\n                },\n                callback: function(form) {\n                    if (form === false) {\n                      return console.log('Cancelled');\n                    }\n                    var id = form.id;\n                    delete form.id;\n                    var data = {\n                        form: form,\n                        id: id\n                    }\n                    that._submitProperties(data);\n                }\n            });\n        });\n    }\n\n    static _submitProperties(data) {\n        $.ajax({\n            headers: {Accept : \"application/json; charset=utf-8\"},\n            type: \"POST\",\n            data: data,\n            url: Utils.addToPathName('set-properties'),\n        }).done($.proxy(function(data) {\n            /**\n             * Callback after confirming.\n             */\n            if (data.status == '200') {\n                // success\n                var $img = $('.image-serie img[data-id=' + data.id + ']');\n                $.each(data.attrs, function(attr, val) {\n                    $img.attr('data-' + attr, val);\n                });\n            }\n        }));\n    }\n\n    static _buildAttrs(data) {\n        var that = this;\n        var ret = '';\n        $.each(data, function(attr, val) {\n            if (attr == 'id') {\n                ret += '<input name=\"id\" type=\"hidden\" value=\"' + val + '\" />';\n            } else {\n                ret += '<div><label>' + that._capitalize(attr) + '</label>' +\n                       '<input name=\"' + attr + '\" type=\"text\" value=\"' + val + '\" /></div>'\n            }\n        });\n        return ret;\n    }\n\n    static _capitalize(word) {\n       return $.camelCase(\"-\" + word);\n    }\n\n    static checkButtonEnable() {\n        let $btn = $('.delete-selected-images');\n        if (imagePool.length > 0) {\n            $btn.removeAttr('disabled');\n        } else {\n            $btn.attr('disabled', 'disabled');\n        }\n    }\n\n    static deleteListener() {\n        var that = this;\n        $('.delete-selected-images').click(function(e) {\n            e.preventDefault();\n            vex.dialog.confirm({\n                message: 'Er du sikker p at du vil slette disse bildene?',\n                callback: function(value) {\n                    if (value) {\n                        $(this).removeClass(\"btn-danger\").addClass(\"btn-warning\").html(\"Lagrer ...\");\n                        $.ajax({\n                            headers: {Accept : \"application/json; charset=utf-8\"},\n                            type: \"POST\",\n                            url: Utils.addToPathName('delete-selected-images'),\n                            data: {ids: imagePool},\n                            success: that.deleteSuccess,\n                        });\n                    }\n                }\n            });\n        });\n    }\n    static deleteSuccess(data) {\n        if (data.status == 200) {\n            $(\".delete-selected-images\").removeClass(\"btn-warning\").addClass(\"btn-danger\").html(\"Slett valgte bilder\");\n            for (var i = 0; i < data.ids.length; i++) {\n                $('.image-selection-pool img[data-id=' + data.ids[i] + ']').fadeOut();\n            }\n            imagePool = [];\n        }\n    }\n}\n\nexport default Images;","\"use strict\";\nimport Utils from \"./utils\";\n\nvar imagePool = [];\nclass Instagram {\n    static setup() {\n        this.checkButtonEnable();\n        this.changeStatusListener();\n        this.imageSelectionListener();\n    }\n    static imageSelectionListener() {\n        var that = this;\n        $('.image-selection-pool img').click(function(e) {\n          if ($(this).hasClass('selected')) {\n            // remove from selected pool\n            var pos;\n            for (var i = 0; i < imagePool.length; i++) {\n              if ( imagePool[i] == $(this).attr('data-id')) {\n                pos = i;\n                break;\n              }\n            }\n            imagePool.splice(pos, 1);\n          } else {\n            // add to selected pool\n            if (!imagePool) {\n              imagePool = new Array();\n            }\n            imagePool.push($(this).attr('data-id'));\n          }\n          $(this).toggleClass('selected');\n          that.checkButtonEnable();\n        });\n    }\n\n    static checkButtonEnable() {\n        let $btn = $('.delete-selected-images, .approve-selected-images, .reject-selected-images');\n        if (imagePool.length > 0) {\n            $btn.removeAttr('disabled');\n        } else {\n            $btn.attr('disabled', 'disabled');\n        }\n    }\n\n    static changeStatusListener() {\n        var that = this;\n        $('.delete-selected-images').click(function(e) {\n            e.preventDefault();\n            that.changeStatus(0, imagePool);\n        });\n        $('.reject-selected-images').click(function(e) {\n            e.preventDefault();\n            that.changeStatus(1, imagePool);\n        });\n        $('.approve-selected-images').click(function(e) {\n            e.preventDefault();\n            that.changeStatus(2, imagePool);\n        });\n    }\n\n    static changeStatus(status, images) {\n        var that = this;\n        $.ajax({\n            headers: {Accept : \"application/json; charset=utf-8\"},\n            type: \"POST\",\n            url: Utils.addToPathName('change-status'),\n            data: {ids: images, status: status},\n            success: that.changeStatusSuccess,\n        });\n    }\n\n    static changeStatusSuccess(data) {\n        let new_status = \"\"\n        if (data.status == 200) {\n            switch (data.new_status) {\n                case \"0\": new_status = \"deleted\"; break;\n                case \"1\": new_status = \"rejected\"; break;\n                case \"2\": new_status = \"approved\"; break;\n            }\n            for (var i = 0; i < data.ids.length; i++) {\n                $('.image-selection-pool img[data-id=' + data.ids[i] + ']').fadeOut(500, function () {\n                    $(this)\n                        .detach()\n                        .appendTo('.' + new_status)\n                        .fadeIn()\n                        .attr('data-status', new_status);\n                });\n            }\n            imagePool = [];\n            $('.image-selection-pool img').removeClass('selected');\n            vex.dialog.alert(\"Status successfully changed.\");\n        }\n    }\n}\n\nexport default Instagram;","\"use strict\";\n\nclass Mobile {\n    static setup() {\n        // set up mobile menu\n        $(document).on('click', '#mobile-nav', function(e) {\n            $('#menu').toggle();\n        });\n    }\n}\n\nexport default Mobile;","\"use strict\";\n\nclass Pages {\n    static setup() {\n        var _this = this;\n        $('.expand-page-children').click(function(e) {\n            _this.onClickExpandButton(e, this);\n        });\n    }\n\n    static onClickExpandButton(e, elem) {\n        e.preventDefault();\n        $(elem).toggleClass('active');\n        $(elem).find('i').toggleClass('fa-plus').toggleClass('fa-times');\n        $('tr.child[data-parent-id=' + $(elem).attr('data-id') + ']').toggleClass('hidden');\n    }\n}\n\nexport default Pages;","\"use strict\";\n\nclass Sequence {\n    static setup() {\n        if ($('#sequence').length != 0) {\n            var el = document.getElementById('sequence');\n            this.sortable = new Sortable(el, {\n                animation: 150,\n                ghostClass: \"sequence-ghost\",\n                onUpdate: function (e) {\n                    $('#sort-post').removeClass(\"btn-default\", \"btn-success\")\n                                   .addClass(\"btn-warning\")\n                                   .html(\"Lagre ny rekkeflge\");\n                },\n            });\n            this.sortListener();\n        }\n    }\n\n\n    static sortSuccess(data) {\n        if (data.status == 200) {\n            $(\"#sort-post\").removeClass(\"btn-warning\").addClass(\"btn-success\").html(\"OK!\");\n        }\n    }\n\n    static sortListener() {\n        var _this = this;\n        $('#sort-post').on('click', function(e) {\n            e.preventDefault();\n            $(this).removeClass(\"btn-default\").addClass(\"btn-warning\").html(\"Lagrer ...\");\n            $.ajax({\n                headers: {Accept : \"application/json; charset=utf-8\"},\n                type: \"POST\",\n                url: \"\",\n                data: {order: _this.sortable.toArray()},\n                success: _this.sortSuccess,\n            });\n        });\n    }\n}\n\nexport default Sequence;","\"use strict\";\n\nimport {Socket} from \"phoenix\"\n\nconst MAX_POINTS = 30;\n\nclass Stats {\n    static setup() {\n        var _this = this;\n        this.totalMemoryPoints = [];\n        this.atomMemoryPoints = [];\n        this.opts = {\n            lineWidth: 2,\n            type: 'line',\n            width: '110px',\n            height: '50px',\n            lineColor: '#6cc7d9',\n            fillColor: '#e2f4f7',\n            spotColor: false,\n            minSpotColor: false,\n            highlightLineColor: 'rgba(0,0,0,0.1)',\n            highlightSpotColor: '#6cc7d9',\n            spotRadius: 3,\n            chartRangeMin: 0,\n            maxSpotColor: false\n        }\n\n        let user_token = document.querySelector(\"meta[name=\\\"channel_token\\\"]\").getAttribute(\"content\");\n        let socket = new Socket(\"/admin/ws\", {params: {token: user_token}});\n        socket.connect();\n        let chan = socket.channel(\"stats\", {});\n        chan.join().receive(\"ok\", ({messages}) => {\n            console.log(\">> System statistics channel ready\");\n        });\n        chan.on(\"update\", payload => {\n            this.update(payload);\n        });\n    }\n\n    static update(payload) {\n        // update memory\n        this.totalMemoryPoints.push(payload.total_memory);\n        if (this.totalMemoryPoints.length > MAX_POINTS) {\n            this.totalMemoryPoints.splice(0, 1);\n        }\n        $('#total-memory .sparkline').sparkline(this.totalMemoryPoints, this.opts);\n        $('#total-memory .text').html(this.humanFileSize(parseInt(payload.total_memory), false));\n\n        this.atomMemoryPoints.push(payload.atom_memory);\n        if (this.atomMemoryPoints.length > MAX_POINTS) {\n            this.atomMemoryPoints.splice(0, 1);\n        }\n        $('#atom-memory .sparkline').sparkline(this.atomMemoryPoints, this.opts);\n        $('#atom-memory .text').html(this.humanFileSize(parseInt(payload.atom_memory), false));\n\n        /* instagram status */\n        if (payload.instagram_status) {\n            $('#instagram-status .status').html('<i class=\"fa fa-check fa-4x\"></i>')\n        } else {\n            $('#instagram-status .status').html('<i class=\"fa fa-times fa-4x\"></i>')\n        }\n    }\n\n    static humanFileSize(bytes, si) {\n        var thresh = si ? 1000 : 1024;\n        if(Math.abs(bytes) < thresh) {\n            return bytes + ' B';\n        }\n        var units = si\n            ? ['kB','MB','GB','TB','PB','EB','ZB','YB']\n            : ['KiB','MiB','GiB','TiB','PiB','EiB','ZiB','YiB'];\n        var u = -1;\n        do {\n            bytes /= thresh;\n            ++u;\n        } while (Math.abs(bytes) >= thresh && u < units.length - 1);\n        return bytes.toFixed(1) + ' ' + units[u];\n    }\n}\n\nexport default Stats;","\"use strict\";\n\nclass Tags {\n    static setup() {\n        // set up tags\n        $('[data-tags-input]').each((index, elem) => {\n            $(elem).tagsInput({width: \"100%\", height: \"35px\", defaultText: \"+\"});\n        });\n    }\n}\n\nexport default Tags;","\"use strict\";\n\nclass Toolbar {\n    static setup() {\n        var _this = this;\n        $('.toolbar .logbutton').click(function(e) {\n            _this.onClickLogButton(e, this);\n        });\n    }\n\n    static onClickLogButton(e, elem) {\n        $(elem).toggleClass('active');\n        $('#log-wrapper').toggle();\n    }\n}\n\nexport default Toolbar;","\"use strict\";\n\nclass Utils {\n    static addToPathName(relativeUrl) {\n      let divider = (window.location.pathname.slice(-1) == \"/\") ? \"\" : \"/\";\n      return window.location.pathname + divider + relativeUrl;\n    }\n    static test() {\n        console.log(\"testing\");\n    }\n}\n\nexport default Utils;","\"use strict\";\n\nclass Vex {\n    static setup() {\n        // set default theme for vex dialogs\n        vex.defaultOptions.className = 'vex-theme-plain';\n        vex.dialog.buttons.YES.text = 'OK';\n        vex.dialog.buttons.NO.text = 'Angre';\n    }\n}\n\nexport default Vex;","\"use strict\";\n\nimport {Socket} from \"phoenix\"\n\nclass WS {\n    static setup() {\n        var _this = this;\n        let user_token = document.querySelector(\"meta[name=\\\"channel_token\\\"]\").getAttribute(\"content\");\n        let socket = new Socket(\"/admin/ws\", {params: {token: user_token}});\n        socket.connect();\n        let chan = socket.channel(\"system:stream\", {});\n        chan.join().receive(\"ok\", ({messages}) => {\n            console.log(\">> System channel ready\");\n        });\n        chan.on(\"log_msg\", payload => {\n            _this.log(payload.level, payload.icon, payload.body);\n        });\n    }\n    static log(level, icon, body) {\n        let date = new Date();\n        $(`<li><i class=\"fa fa-fw ${icon} m-l-sm m-r-sm\"> </i> <span class=\"time p-r-sm\">${date.getHours()}:${date.getMinutes()}</span>${body}</li>`).appendTo(\"#log-content\");\n    }\n}\n\nexport default WS;"]}